<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rani shop</title>
    <style>
        /* ====================================
           1. Ø§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
           ==================================== */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
            text-align: right;
        }
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 20px auto;
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }
        header {
            background-color: #007bff;
            color: white;
            padding: 20px 0;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        header h1 {
            margin: 0;
            font-size: 2.5em;
        }
        
        /* ====================================
           2. Ù‚Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
           ==================================== */
        .product-section {
            flex: 2; /* Ù…Ø³Ø§Ø­Ø© Ø£ÙƒØ¨Ø± Ù„Ù„Ù…Ù†ØªØ¬Ø§Øª */
            min-width: 600px;
        }
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }
        .product-card {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            overflow: hidden;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        .product-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-bottom: 1px solid #dee2e6;
        }
        .product-info {
            padding: 15px;
        }
        .product-info h3 {
            color: #343a40;
            font-size: 1.4em;
            margin: 0 0 10px 0;
        }
        .price {
            color: #f00707; /* Ù„ÙˆÙ† Ø§Ø­Ù…Ø± Ù„Ù„Ø³Ø¹Ø± */
            font-size: 1.8em;
            font-weight: bold;
            margin: 10px 0;
        }
        .add-to-cart-btn {
            background-color: #28a745; /* Ù„ÙˆÙ† Ø£Ø®Ø¶Ø± Ù„Ù„Ø²Ø± */
            color: white;
            padding: 10px 20px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            width: 100%;
            transition: background-color 0.3s;
        }
        .add-to-cart-btn:hover {
            background-color: #218838;
        }

        /* ====================================
           3. Ø³Ù„Ø© Ø§Ù„ØªØ³ÙˆÙ‚ ÙˆÙ†Ù…ÙˆØ°Ø¬ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨
           ==================================== */
        .sidebar {
            flex: 1; /* Ù…Ø³Ø§Ø­Ø© Ø£Ù‚Ù„ Ù„Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ */
            min-width: 300px;
        }
        .cart-section, .checkout-section {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
            border-top: 5px solid #007bff;
        }
        #cart-items {
            list-style: none;
            padding: 0;
        }
        #cart-items li {
            border-bottom: 1px dashed #ced4da;
            padding: 10px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .remove-btn {
            background-color: #f75d5d;
            color: white;
            border: none;
            padding: 5px 8px;
            cursor: pointer;
            border-radius: 3px;
            font-size: 0.8em;
            margin-right: 10px;
        }
        .total-info {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid #007bff;
            font-size: 1.4em;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
        }
        
        /* ====================================
           4. Ù†Ù…ÙˆØ°Ø¬ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ (Checkout Form)
           ==================================== */
        .checkout-section h3 {
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #495057;
        }
        .form-group input, .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            box-sizing: border-box; /* Ù„Ø¶Ù…Ø§Ù† Ø£Ù† Ø§Ù„Ø¹Ø±Ø¶ 100% ÙŠØ´Ù…Ù„ Ø§Ù„ØªØ¨Ø·ÙŠÙ† ÙˆØ§Ù„Ø­Ø¯ÙˆØ¯ */
        }
        #confirm-order-btn {
            background-color: #007bff;
            color: white;
            padding: 12px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            width: 100%;
            margin-top: 10px;
            font-size: 1.1em;
            transition: background-color 0.3s;
        }
        #confirm-order-btn:hover {
            background-color: #0056b3;
        }
    </style>
</head><body>
    <header>
        <h1>Ù…ØªØ¬Ø± Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø±Ø§Ø¦Ø¹Ø©</h1>
        <nav>
            <a href="shop.html">ğŸ›’ Ø§Ù„Ø³Ù„Ø©</a>
        </nav>
    </header>

                <div class="product-card" data-name="Ù‡Ø§ØªÙ Ø°ÙƒÙŠ 5G" data-price="120000">
                    <img src="photo.jpg" alt="Ù‡Ø§ØªÙ Ø°ÙƒÙŠ">
                    <div class="product-info">
                        <h3>apple watch</h3>
                        <p>Ø´Ø§Ø´Ø© AMOLED ÙˆÙƒØ§Ù…ÙŠØ±Ø§ Ø§Ø­ØªØ±Ø§ÙÙŠØ©.</p>
                        <div class="price">120,000 Ø¯Ø¬</div>
                        <button class="add-to-cart-btn">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
                    </div>
                </div>

                <div class="product-card" data-name="Ø³Ù…Ø§Ø¹Ø§Øª Ù„Ø§Ø³Ù„ÙƒÙŠØ© Ø¨Ø±Ùˆ" data-price="15000">
                    <img src="https://via.placeholder.com/300x200?text=Ø³Ù…Ø§Ø¹Ø§Øª+Ø¨Ø±Ùˆ" alt="Ø³Ù…Ø§Ø¹Ø§Øª Ø±Ø£Ø³">
                    <div class="product-info">
                        <h3>Ø³Ù…Ø§Ø¹Ø§Øª Ù„Ø§Ø³Ù„ÙƒÙŠØ© Ù…Ø§Ù†Ø¹Ø© Ù„Ù„Ø¶ÙˆØ¶Ø§Ø¡</h3>
                        <p>ØµÙˆØª Ù†Ù‚ÙŠ ÙˆØ¨Ø·Ø§Ø±ÙŠØ© ØªØ¯ÙˆÙ… Ø·ÙˆÙŠÙ„Ø§Ù‹.</p>
                        <div class="price">15,000 Ø¯Ø¬</div>
                        <button class="add-to-cart-btn">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
                    </div>
                </div>

                <div class="product-card" data-name="Ø³Ø§Ø¹Ø© Ø°ÙƒÙŠØ© Ø§Ù„ØªØ±Ø§" data-price="28000">
                    <img src="https://via.placeholder.com/300x200?text=Ø³Ø§Ø¹Ø©+Ø±ÙŠØ§Ø¶ÙŠØ©" alt="Ø³Ø§Ø¹Ø© Ø°ÙƒÙŠØ©">
                    <div class="product-info">
                        <h3>Ø³Ø§Ø¹Ø© Ø°ÙƒÙŠØ© Ø±ÙŠØ§Ø¶ÙŠØ© Ù…Ù‚Ø§ÙˆÙ…Ø© Ù„Ù„Ù…Ø§Ø¡</h3>
                        <p>ØªØªØ¨Ø¹ Ø§Ù„Ù„ÙŠØ§Ù‚Ø© ÙˆÙ†Ø¸Ø§Ù… GPS Ù…Ø¯Ù…Ø¬.</p>
                        <div class="price">28,000 Ø¯Ø¬</div>
                        <button class="add-to-cart-btn">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</button>
                    </div>
                </div>
            </div> </div> </div> <script>
        let cart = [];
        const cartItemsElement = document.getElementById('cart-items');
        const totalPriceElement = document.getElementById('total-price');
        const cartCountElement = document.getElementById('cart-count');
        const confirmBtn = document.getElementById('confirm-order-btn');
        const messageElement = document.getElementById('message');
        const checkoutForm = document.getElementById('checkout-form');

        // ÙˆØ¸ÙŠÙØ© ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø¨ÙØ§ØµÙ„Ø© Ø§Ù„Ø¢Ù„Ø§Ù
        function formatPrice(number) {
            return number.toLocaleString('ar-DZ', { style: 'currency', currency: 'DZD', minimumFractionDigits: 0 }).replace('Ø¯.Ø¬.', 'Ø¯Ø¬');
        }

        // 1. ÙˆØ¸ÙŠÙØ© Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ù†ØªØ¬ Ù„Ù„Ø³Ù„Ø©
        function addToCart(event) {
            const productCard = event.target.closest('.product-card');
            const name = productCard.getAttribute('data-name');
            const price = parseInt(productCard.getAttribute('data-price'));
            
            const existingItem = cart.find(item => item.name === name);

            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ name, price, quantity: 1 });
            }

            renderCart();
        }

        // 2. ÙˆØ¸ÙŠÙØ© Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† Ø§Ù„Ø³Ù„Ø©
        function removeFromCart(itemName) {
            const itemIndex = cart.findIndex(item => item.name === itemName);

            if (itemIndex > -1) {
                cart.splice(itemIndex, 1);
            }
            renderCart();
        }

        // 3. ÙˆØ¸ÙŠÙØ© Ø¹Ø±Ø¶ ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ù„Ø©
        function renderCart() {
            cartItemsElement.innerHTML = ''; 
            let total = 0;
            let totalItems = 0;

            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                totalItems += item.quantity;

                const li = document.createElement('li');
                li.innerHTML = `
                    <button class="remove-btn" data-name="${item.name}">Ø­Ø°Ù</button>
                    ${item.name} (${formatPrice(item.price)}) x${item.quantity}
                `;
                cartItemsElement.appendChild(li);
            });

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ ÙˆØ¹Ø¯Ø¯ Ø§Ù„Ø¹Ù†Ø§ØµØ±
            totalPriceElement.textContent = formatPrice(total);
            cartCountElement.textContent = totalItems;

            // ØªÙØ¹ÙŠÙ„/ØªØ¹Ø·ÙŠÙ„ Ø²Ø± ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ÙˆØ¬ÙˆØ¯ Ø¹Ù†Ø§ØµØ± ÙÙŠ Ø§Ù„Ø³Ù„Ø©
            if (cart.length > 0) {
                confirmBtn.removeAttribute('disabled');
            } else {
                confirmBtn.setAttribute('disabled', 'disabled');
            }

            // Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø­Ø°Ù Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
            document.querySelectorAll('.remove-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    const itemName = e.target.getAttribute('data-name');
                    removeFromCart(itemName);
                });
            });
        }

        // 4. Ø±Ø¨Ø· Ø²Ø± "Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©" Ø¨Ø§Ù„ÙˆØ¸ÙŠÙØ©
        document.querySelectorAll('.add-to-cart-btn').forEach(button => {
            button.addEventListener('click', addToCart);
        });

        // 5. Ù…Ø¹Ø§Ù„Ø¬Ø© Ù†Ù…ÙˆØ°Ø¬ ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨
        checkoutForm.addEventListener('submit', function(event) {
            event.preventDefault(); // Ù…Ù†Ø¹ Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©

            if (cart.length === 0) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø© Ø£ÙˆÙ„Ø§Ù‹.');
                return;
            }

            // Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø¨Ø§Ù„Ø·Ø¨Ø¹ ØªØ­ØªØ§Ø¬ Ù„Ø®Ù„ÙÙŠØ© (Backend) Ø­Ù‚ÙŠÙ‚ÙŠØ©)
            const formData = {
                name: document.getElementById('full-name').value,
                phone: document.getElementById('phone').value,
                wilaya: document.getElementById('wilaya').value,
                address: document.getElementById('address').value,
                order_items: cart,
                total_amount: totalPriceElement.textContent
            };

            // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙØ¹Ù„ÙŠ
            console.log('Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„Ø¥Ø±Ø³Ø§Ù„:', formData);
            messageElement.style.display = 'block';
            checkoutForm.reset(); // ØªÙØ±ÙŠØº Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
            cart = []; // ØªÙØ±ÙŠØº Ø§Ù„Ø³Ù„Ø©
            renderCart(); // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ø³Ù„Ø© Ù„ØªØµØ¨Ø­ ÙØ§Ø±ØºØ©

            // Ø¥Ø®ÙØ§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ£ÙƒÙŠØ¯ Ø¨Ø¹Ø¯ 5 Ø«ÙˆØ§Ù†
            setTimeout(() => {
                messageElement.style.display = 'none';
            }, 5000);
        });

        // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø³Ù„Ø© Ù„Ø£ÙˆÙ„ Ù…Ø±Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        renderCart();
    </script>
</body>
</html>
